<html>
<head>
  <title>Project 3</title>



</head>

<body>
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="http://code.highcharts.com/maps/modules/map.js"></script>


  <div id="chart1" style="min-width: 310px; max-width: 800px; height: 400px; margin: 20px auto"></div>
  <div id="chart2" style="min-width: 310px; max-width: 800px; height: 400px; margin: 20px;"></div>
  <div id="container" style="height: 500px; min-width: 310px; max-width: 600px; margin: 0 auto"></div>

<script>
// A $( document ).ready() block.
$( document ).ready(function() {
    buildChart1();
    buildChart2();
    //buildChart3();


});

//chart 1 begins

function buildChart1(){
    $('#chart1').highcharts({
      title: {
          text: 'Firearm Deaths: Homicides vs. Suicides',
          x: -20 //center
      },
      subtitle: {
          text: 'Source: CDC',
          x: -20
      },
      xAxis: {
          categories: ['1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014'],
      },
      yAxis: {
          title: {
              text: 'Crude Rate',
          },
          plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
          }]
      },
      tooltip: {
          valueSuffix: '%'
      },
      legend: {
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'middle',
          borderWidth: 0
      },
      series: [{
          name: 'Homicides',
          data: [3.88, 3.84, 3.98, 4.11, 4.11, 3.97, 4.18, 4.29, 4.19, 4.01, 3.75, 3.59, 3.55, 3.7, 3.54, 3.43]
        }, {
          name: 'Suicides',
          data: [5.95, 5.89, 5.92, 5.95, 5.83, 5.72, 5.75, 5.66, 5.76, 5.99, 6.11, 6.28, 6.41, 6.58, 6.69, 6.69]
      }]
  });
}

//chart 2 beginss

  function buildChart2(){
      $('#chart2').highcharts({
        chart: {
            type: 'area'
        },
        title: {
            text: 'Suicide by Method'
        },
        subtitle: {
            text: 'Source: CDC'
        },
        xAxis: {
          categories: ['1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008','2009', '2010', '2011', '2012', '2013','2014'],
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: '% of Suicides by Method'
            },
            labels: {
                formatter: function () {
                    return this.value / 1000;
                }
            }
        },
        tooltip: {
            shared: true,
            valueSuffix: 'suicides'
        },
        plotOptions: {
            area: {
                stacking: 'normal',
                lineColor: '#666666',
                lineWidth: 1,
                marker: {
                    lineWidth: 1,
                    lineColor: '#666666'
                }
            }
        },
        series: [{
            name: 'Firearms',
            data: [16599, 16586, 16869, 17108, 16907, 16750, 17002, 16883, 17352, 18223, 18735, 19392, 19990, 20666, 21175, 21334]
          },{
            name: 'Poision/Drugs',
            data: [4893, 4859, 5191, 5486, 5462, 5800, 5744, 6109, 6358, 6442, 6398, 6599, 6564, 6729, 6637, 6808]
          },{
            name: 'Drowning/Falls/Cutting',
            data: [1408, 1311, 1448, 1674, 1633, 1631, 1648, 1725, 1708, 1782, 1743, 1863, 1821, 2113, 2156, 2106]
          },{
          name: 'Other',
          data: [6299, 6594, 7114, 7387, 7482, 8258, 8243, 8583, 9180, 9588, 10033, 10510, 11143, 11092, 11181, 12525]}
        ]

    });
}

  //chart 3 beings
  $(function (){
      $.getJSON('gunowners.json', function (data) {

          // Make codes uppercase to match the map data
          $.each(data, function () {
              this.code = this.code.toUpperCase();
          });

          // Instanciate the map

          $('#container').highcharts('Map', {

              chart : {
                  borderWidth : 1
              },

              title : {
                  text : 'Gun owners per 1,000 people'
              },

              legend: {
                  layout: 'horizontal',
                  borderWidth: 0,
                  backgroundColor: 'rgba(255,255,255,0.85)',
                  floating: true,
                  verticalAlign: 'top',
                  y: 25
              },

              mapNavigation: {
                  enabled: true
              },

              colorAxis: {
                  min: 1,
                  type: 'logarithmic',
                  minColor: '#EEEEFF',
                  maxColor: '#000022',
                  stops: [
                      [0, '#EFEFFF'],
                      [0.67, '#4444FF'],
                      [1, '#000022']
                  ]
              },

              series : [{
                  animation: {
                      duration: 1000
                  },
                  data : data,
                  mapData: Highcharts.maps['countries/us/us-all'],
                  joinBy: ['postal-code', 'code'],
                  dataLabels: {
                      enabled: true,
                      color: '#FFFFFF',
                      format: '{point.code}'
                  },
                  name: 'Gun owners per 1,000 people',
                  tooltip: {
                      pointFormat: '{point.code}: {point.value}/1,000 people'
                  }
                }]
            });
        });
    });


  //chart 4 beings


</script>
</body>
</html>
